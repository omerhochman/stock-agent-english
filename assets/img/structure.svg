<svg viewBox="0 0 1000 850" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#333">Multi-Agent Investment Decision System Architecture Based on LLM</text>
  
  <!-- Layer descriptions -->
  <text x="150" y="120" font-size="16" font-weight="bold" fill="#555">Layer 1: Data Acquisition</text>
  <text x="150" y="240" font-size="16" font-weight="bold" fill="#555">Layer 2: Professional Analysis</text>
  <text x="150" y="400" font-size="16" font-weight="bold" fill="#555">Layer 3: Research Analysis</text>
  <text x="150" y="500" font-size="16" font-weight="bold" fill="#555">Layer 4: Debate Decision</text>
  <text x="150" y="580" font-size="16" font-weight="bold" fill="#555">Layer 5: Risk Assessment</text>
  <text x="150" y="660" font-size="16" font-weight="bold" fill="#555">Layer 6: Macro &amp; Portfolio Management</text>
  
  <!-- Layer 1: Market Data -->
  <rect x="420" y="90" width="160" height="60" rx="10" fill="#4e79a7" />
  <text x="500" y="125" text-anchor="middle" font-size="14" fill="white">Market Data Agent</text>
  <text x="500" y="145" text-anchor="middle" font-size="12" fill="white">market_data_agent</text>
  
  <!-- Layer 2: Professional Analysis -->
  <rect x="120" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="180" y="285" text-anchor="middle" font-size="12" fill="white">AI Model Analysis</text>
  <text x="180" y="305" text-anchor="middle" font-size="10" fill="white">ai_model_analyst</text>

  <rect x="250" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="310" y="285" text-anchor="middle" font-size="12" fill="white">Technical Analysis</text>
  <text x="310" y="305" text-anchor="middle" font-size="10" fill="white">technical_analyst</text>

  <rect x="380" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="440" y="285" text-anchor="middle" font-size="12" fill="white">Fundamental Analysis</text>
  <text x="440" y="305" text-anchor="middle" font-size="10" fill="white">fundamentals_agent</text>

  <rect x="510" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="570" y="285" text-anchor="middle" font-size="12" fill="white">Sentiment Analysis</text>
  <text x="570" y="305" text-anchor="middle" font-size="10" fill="white">sentiment_agent</text>

  <rect x="640" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="700" y="285" text-anchor="middle" font-size="12" fill="white">Valuation Analysis</text>
  <text x="700" y="305" text-anchor="middle" font-size="10" fill="white">valuation_agent</text>

  <rect x="770" y="260" width="120" height="60" rx="10" fill="#f28e2c" />
  <text x="830" y="285" text-anchor="middle" font-size="12" fill="white">Portfolio Analysis</text>
  <text x="830" y="305" text-anchor="middle" font-size="10" fill="white">portfolio_analyzer</text>

  <!-- Layer 3: Research Analysis -->
  <rect x="300" y="400" width="160" height="60" rx="10" fill="#e15759" />
  <text x="380" y="430" text-anchor="middle" font-size="14" fill="white">Bull Research Agent</text>
  <text x="380" y="450" text-anchor="middle" font-size="12" fill="white">researcher_bull_agent</text>

  <rect x="540" y="400" width="160" height="60" rx="10" fill="#76b7b2" />
  <text x="620" y="430" text-anchor="middle" font-size="14" fill="white">Bear Research Agent</text>
  <text x="620" y="450" text-anchor="middle" font-size="12" fill="white">researcher_bear_agent</text>

  <!-- Layer 4: Debate Room -->
  <rect x="420" y="500" width="160" height="60" rx="10" fill="#59a14f" />
  <text x="500" y="530" text-anchor="middle" font-size="14" fill="white">Debate Room Agent</text>
  <text x="500" y="550" text-anchor="middle" font-size="12" fill="white">debate_room_agent</text>

  <!-- Layer 5: Risk Management -->
  <rect x="420" y="580" width="160" height="60" rx="10" fill="#edc949" />
  <text x="500" y="610" text-anchor="middle" font-size="14" fill="white">Risk Management Agent</text>
  <text x="500" y="630" text-anchor="middle" font-size="12" fill="white">risk_management_agent</text>

  <!-- Layer 6: Macro &amp; Portfolio Management -->
  <rect x="420" y="660" width="160" height="60" rx="10" fill="#af7aa1" />
  <text x="500" y="690" text-anchor="middle" font-size="14" fill="white">Macro Analysis Agent</text>
  <text x="500" y="710" text-anchor="middle" font-size="12" fill="white">macro_analyst_agent</text>

  <rect x="420" y="740" width="160" height="60" rx="10" fill="#ff9da7" />
  <text x="500" y="770" text-anchor="middle" font-size="14" fill="white">Portfolio Management Agent</text>
  <text x="500" y="790" text-anchor="middle" font-size="12" fill="white">portfolio_management_agent</text>

  <!-- Connection lines - Layer 1 to Layer 2 -->
  <line x1="500" y1="150" x2="180" y2="260" stroke="#999" stroke-width="2" />
  <line x1="500" y1="150" x2="310" y2="260" stroke="#999" stroke-width="2" />
  <line x1="500" y1="150" x2="440" y2="260" stroke="#999" stroke-width="2" />
  <line x1="500" y1="150" x2="570" y2="260" stroke="#999" stroke-width="2" />
  <line x1="500" y1="150" x2="700" y2="260" stroke="#999" stroke-width="2" />
  <line x1="500" y1="150" x2="830" y2="260" stroke="#999" stroke-width="2" />

  <!-- Connection lines - Layer 2 to Layer 3 -->
  <line x1="180" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="310" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="310" y1="320" x2="620" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="440" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="440" y1="320" x2="620" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="570" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="570" y1="320" x2="620" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="700" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="700" y1="320" x2="620" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="830" y1="320" x2="380" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <line x1="830" y1="320" x2="620" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />

  <!-- Connection lines - Layer 3 to Layer 4 -->
  <line x1="380" y1="460" x2="500" y2="500" stroke="#999" stroke-width="2" />
  <line x1="620" y1="460" x2="500" y2="500" stroke="#999" stroke-width="2" />

  <!-- Connection lines - Layer 4 to Layer 5 -->
  <line x1="500" y1="560" x2="500" y2="580" stroke="#999" stroke-width="2" />

  <!-- Connection lines - Layer 5 to Layer 6 -->
  <line x1="500" y1="640" x2="500" y2="660" stroke="#999" stroke-width="2" />

  <!-- Connection lines - Macro Analysis to Portfolio Management -->
  <line x1="500" y1="720" x2="500" y2="740" stroke="#999" stroke-width="2" />

  <!-- Legend -->
  <rect x="780" y="120" width="15" height="15" fill="#999" />
  <text x="805" y="133" font-size="12">Direct Connection</text>

  <rect x="780" y="150" width="15" height="15" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="5,5" />
  <text x="805" y="163" font-size="12">Conditional Connection</text>
</svg>
